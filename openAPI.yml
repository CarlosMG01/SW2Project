openapi: 3.0.0
info:
  title: Sistema de Reservas para Restaurantes
  description: API para gestionar un sistema de reservas inteligente para restaurantes.
  version: "1.0.0"
servers:
  - url: 'https://localhost:12345'
    description: Servidor en local

security:
  - BearerAuth: []

paths:
  /restaurantes:
    get:
      summary: Lista todos los restaurantes
      security:
        - BearerAuth: []
      operationId: listRestaurants
      parameters:
        - in: query
          name: page
          schema:
            type: integer
            minimum: 0
            maximum: 2147483647
            format: int32
            default: 1
            description: Número de página para la paginación.
        - in: query
          name: pageSize
          schema:
            type: integer
            minimum: 0
            maximum: 2147483647
            format: int32
            default: 20
            description: Cantidad de restaurantes por página.
        - in: query
          name: tipoCocina
          schema:
            type: string
            enum:
                  - Mexicana
                  - Italiana
                  - Japonesa
                  - China
                  - Española
                  - Francesa
                  - Alemana
                  - India
                  - Tailandesa
                  - Árabe
                  - Otros
            description: Filtra los restaurantes por tipo de cocina.
        - in: query
          name: ciudad
          schema:
            type: string
            pattern: '^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$'
            maxLength: 100
            description: Filtra los restaurantes por ciudad.
      responses:
        '200':
          description: Un array de restaurantes
          content:
            application/json:
              schema:
                type: array
                maxItems: 100
                items:
                  $ref: '#/components/schemas/Restaurante'
        '404':
          description: No se encontraron restaurantes
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 30
                    minLength: 30
                    pattern: 'No se encontraron restaurantes'
                    example: No se encontraron restaurantes
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado
    post:
      summary: Crea un nuevo restaurante
      security:
        - BearerAuth: []
      operationId: createRestaurant
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Restaurante'
      responses:
        '201':
          description: Restaurante creado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Restaurante'
        '400':
          description: Petición incorrecta
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 19
                    minLength: 19
                    pattern: 'Petición incorrecta'
                    example: Petición incorrecta
        '403':
          description: No autorizado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 13
                    minLength: 13
                    pattern: 'No autorizado'
                    example: No autorizado
        '404':
          description: No se encontró el recurso
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 25
                    minLength: 25
                    pattern: 'No se encontró el recurso'
                    example: No se encontró el recurso
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '415':
          description: Tipo de contenido no soportado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 30
                    minLength: 30
                    pattern: 'Tipo de contenido no soportado'
                    example: Tipo de contenido no soportado
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado

  /restaurantes/{id}:
    get:
      summary: Obtener detalles de un restaurante específico
      operationId: getRestaurantById
      
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 0
            maximum: 2147483647
            format: int32
          description: ID del restaurante
      responses:
        '200':
          description: Detalles del restaurante
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Restaurante'
        '404':
          description: Restaurante no encontrado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 25
                    minLength: 25
                    pattern: 'Restaurante no encontrado'
                    example: Restaurante no encontrado
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado
    put:
      summary: Actualizar un restaurante específico
      operationId: updateRestaurant
      security:
        - BearerAuth: []
      
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 0
            maximum: 2147483647
            format: int32
          description: ID del restaurante
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Restaurante'
      responses:
        '200':
          description: Restaurante actualizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Restaurante'
        '403':
          description: No autorizado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 13
                    minLength: 13
                    pattern: 'No autorizado'
                    example: No autorizado
        '404':
          description: Restaurante no encontrado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 25
                    minLength: 25
                    pattern: 'Restaurante no encontrado'
                    example: Restaurante no encontrado
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '415':
          description: Tipo de contenido no soportado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 30
                    minLength: 30
                    pattern: 'Tipo de contenido no soportado'
                    example: Tipo de contenido no soportado
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado
    delete:
      summary: Eliminar un restaurante específico
      operationId: deleteRestaurant
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 0
            maximum: 2147483647
            format: int32
          description: ID del restaurante
      responses:
        '204':
          description: Restaurante eliminado
          
        '403':
          description: No autorizado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 13
                    minLength: 13
                    pattern: 'No autorizado'
                    example: No autorizado
        '404':
          description: Restaurante no encontrado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 25
                    minLength: 25
                    pattern: 'Restaurante no encontrado'
                    example: Restaurante no encontrado
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado

  /reservas:
    get:
      summary: Listar todas las reservas
      operationId: listReservations
      parameters:
        - in: query
          name: page
          schema:
            type: integer
            default: 1
            minimum: 1
            maximum: 2147483647
            format: int32
            description: Número de página para la paginación.
        - in: query
          name: pageSize
          schema:
            type: integer
            default: 20
            minimum: 1
            maximum: 2147483647
            format: int32
            description: Cantidad de reservas por página.
        - in: query
          name: fecha
          schema:
            type: string
            format: date
            minLength: 10
            maxLength: 10
            pattern: '^\d{4}-\d{2}-\d{2}$'
            description: Filtra las reservas por fecha.
        - in: query
          name: restaurante
          schema:
            type: integer
            minimum: 0
            maximum: 2147483647
            format: int32
            description: Filtra las reservas por ID de restaurante.
        - in: query
          name: usuario
          schema:
            type: integer
            minimum: 0
            maximum: 2147483647
            format: int32
            description: Filtra las reservas por ID de usuario.
      security:
        - BearerAuth: []
      
      responses:
        '200':
          description: Array de todas las reservas
          content:
            application/json:
              schema:
                type: array
                maxItems: 100
                items:
                  $ref: '#/components/schemas/Reserva'
        '404':
          description: No se encontraron reservas
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 26
                    minLength: 26
                    pattern: 'No se encontraron reservas'
                    example: No se encontraron reservas
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado
    post:
      summary: Crear una nueva reserva
      operationId: createReservation
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Reserva'
      responses:
        '201':
          description: Reserva creada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Reserva'
        '400':
          description: Petición incorrecta
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 19
                    minLength: 19
                    pattern: 'Petición incorrecta'
                    example: Petición incorrecta
        '404':
          description: No se encontró el recurso
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 25
                    minLength: 25
                    pattern: 'No se encontró el recurso'
                    example: No se encontró el recurso
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '415':
          description: Tipo de contenido no soportado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 30
                    minLength: 30
                    pattern: 'Tipo de contenido no soportado'
                    example: Tipo de contenido no soportado
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado
  
  /reservas/{id}:
    get:
      summary: Obtener detalles de una reserva específica
      operationId: getReservationById
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2147483647
            format: int32
          description: ID de la reserva
      responses:
        '200':
          description: Detalles de la reserva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Reserva'
        '404':
          description: Reserva no encontrada
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Reserva no encontrada'
                    example: Reserva no encontrada
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado

    put:
      summary: Modificar una reserva existente
      operationId: updateReservation
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2147483647
            format: int32
          description: ID de la reserva
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Reserva'
      responses:
        '200':
          description: Reserva actualizada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Reserva'
        '404':
          description: Reserva no encontrada
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Reserva no encontrada'
                    example: Reserva no encontrada
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado

    delete:
      summary: Cancelar una reserva
      operationId: deleteReservation
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2147483647
            format: int32
          description: ID de la reserva
      responses:
        '204':
          description: Reserva cancelada
        '404':
          description: Reserva no encontrada
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Reserva no encontrada'
                    example: Reserva no encontrada
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado
        
  /usuarios:
    get:
      summary: Listar todos los usuarios
      security:
        - BearerAuth: []
      operationId: listUsers
      parameters:
        - in: query
          name: page
          schema:
            type: integer
            format: int32
            default: 1
            minimum: 1
            maximum: 2147483647
            description: Número de página para la paginación.
        - in: query
          name: pageSize
          schema:
            type: integer
            format: int32
            default: 20
            minimum: 1
            maximum: 2147483647
            description: Cantidad de usuarios por página.
        - in: query
          name: nombre
          schema:
            type: string
            maxLength: 50
            pattern: '^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$'
            description: Filtra los usuarios por nombre.
        - in: query
          name: email
          schema:
            type: string
            maxLength: 75
            pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
            description: Filtra los usuarios por email.
      responses:
        '200':
          description: Array de todos los usuarios
          content:
            application/json:
              schema:
                type: array
                maxItems: 100
                minItems: 0
                items:
                  $ref: '#/components/schemas/Usuario'
        '404':
          description: No se encontraron usuarios
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 26
                    minLength: 26
                    pattern: 'No se encontraron usuarios'
                    example: No se encontraron usuarios
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado

    post:
      summary: Registrar un nuevo usuario
      operationId: createUser
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Usuario'
      responses:
        '201':
          description: Usuario registrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Usuario'
        '400':
          description: Petición incorrecta
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 19
                    minLength: 19
                    pattern: 'Petición incorrecta'
                    example: Petición incorrecta
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '415':
          description: Tipo de contenido no soportado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 30
                    minLength: 30
                    pattern: 'Tipo de contenido no soportado'
                    example: Tipo de contenido no soportado
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado
          
  /usuarios/{id}:
    get:
      summary: Obtener detalles de un usuario específico
      operationId: getUserById
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2147483647
            format: int32
          description: ID del usuario
      responses:
        '200':
          description: Detalles del usuario
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Usuario'
        '404':
          description: Usuario no encontrado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Usuario no encontrado'
                    example: Usuario no encontrado
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado
    put:
      summary: Actualizar información de un usuario
      operationId: updateUser
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2147483647
            format: int32
          description: ID del usuario
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Usuario'
      responses:
        '200':
          description: Usuario actualizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Usuario'
        '403':
          description: No autorizado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 13
                    minLength: 13
                    pattern: 'No autorizado'
                    example: No autorizado
        '404':
          description: Usuario no encontrado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Usuario no encontrado'
                    example: Usuario no encontrado
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '415':
          description: Tipo de contenido no soportado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 30
                    minLength: 30
                    pattern: 'Tipo de contenido no soportado'
                    example: Tipo de contenido no soportado
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado
    delete:
      summary: Eliminar un usuario
      operationId: deleteUser
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2147483647
            format: int32
          description: ID del usuario
      responses:
        '204':
          description: Usuario eliminado
        '403':
          description: No autorizado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 13
                    minLength: 13
                    pattern: 'No autorizado'
                    example: No autorizado
        '404':
          description: Usuario no encontrado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Usuario no encontrado'
                    example: Usuario no encontrado
        '406':
          description: Error en la petición
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 20
                    minLength: 20
                    pattern: 'Error en la petición'
                    example: Error en la petición
        '429':
          description: Demasiadas peticiones
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 21
                    minLength: 21
                    pattern: 'Demasiadas peticiones'
                    example: Demasiadas peticiones
        'default':
          description: Error inesperado
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  message:
                    type: string
                    maxLength: 16
                    minLength: 16
                    pattern: 'Error inesperado'
                    example: Error inesperado

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  
  schemas:
    Restaurante:
      additionalProperties: false
      type: object
      properties:
        id:
          type: integer
          minimum: 0
          maximum: 2147483647
          format: int32
        nombre:
          type: string
          nullable: false
          pattern: '^[A-Za-záéíóúÁÉÍÓÚnÑ ]+$'
          maxLength: 50
        ubicación:
          type: object
          additionalProperties: false
          minProperties: 0
          maxProperties: 5
          properties:
            dirección:
              type: string
              nullable: true
              maxLength: 100
              pattern: '^[A-Za-záéíóúÁÉÍÓÚñÑ\- ]+$'
            ciudad:
              type: string
              nullable: true
              maxLength: 50
              pattern: '^[A-Za-záéíóúÁÉÍÓÚñÑ\- ]+$'
            estado:
              type: string
              nullable: true
              maxLength: 100
              pattern: '^[A-Za-záéíóúÁÉÍÓÚñÑ\- ]+$'
            país:
              type: string
              nullable: true
              maxLength: 100
              pattern: '^[A-Za-záéíóúÁÉÍÓÚñÑ\- ]+$'
            códigoPostal:
              type: integer
              nullable: true
              minimum: 0
              maximum: 99999
              format: int32
        tipoCocina:
          type: string
          enum:
            - Mexicana
            - Italiana
            - Japonesa
            - China
            - Española
            - Francesa
            - Alemana
            - India
            - Tailandesa
            - Árabe
            - Otros
        capacidadMaxima:
          type: integer
          minimum: 1
          maximum: 9999
          format: int32
        telefono:
          type: integer
          minimum: 0
          maximum: 9999999999
          format: phone
        email:
          type: string
          format: email
          maxLength: 75
          minLength: 1
          pattern: '^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$'
        horario:
          type: object
          additionalProperties: false
          maxItems: 7
          minItems: 1
          properties:
            day:
              type: string
              enum:
                - L
                - M
                - X
                - J
                - V
                - S
                - D
            apertura:
              type: string
              format: 'HH:mm'
              minLength: 5
              maxLength: 5
              pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$'
            cierre:
              type: string
              format: 'HH:mm'
              minLength: 5
              maxLength: 5
              pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$'
        caracteristicasEspeciales:
          type: array
          maxItems: 16
          minItems: 0
          items:
            type: string
            enum:
              - Acceso para discapacitados
              - Acepta tarjetas de crédito
              - Aire acondicionado
              - Almuerzo
              - Bar
              - Cena
              - Comida para llevar
              - Desayuno
              - Estacionamiento
              - Música en vivo
              - Reservaciones
              - Servicio a domicilio
              - Servicio de bar
              - Servicio de catering
              - Servicio de mesero
              - Terraza
        disponibilidadTerraza:
          type: boolean

    Reserva:
      type: object
      additionalProperties: false
      properties:
        id:
          type: integer
          minimum: 1
          maximum: 2147483647
          format: int32
          description: Identificador único de la reserva.
        fecha:
          type: string
          format: date
          pattern: '^\d{4}-\d{2}-\d{2}$'
          minLength: 10
          maxLength: 10
          description: Fecha de la reserva en formato YYYY-MM-DD.
        hora:
          type: string
          format: 'HH:mm'
          pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$'
          description: Hora de la reserva en formato HH:mm.
        numeroPersonas:
          type: number
          minimum: 1
          maximum: 9999
          format: int32
          description: Número de personas para las que se realiza la reserva.
        idRestaurante:
          type: integer
          minimum: 1
          maximum: 2147483647
          format: int32
          description: Identificador del restaurante donde se realiza la reserva.
        idUsuario:
          type: integer
          minimum: 1
          maximum: 2147483647
          format: int32
          description: Identificador del usuario que realiza la reserva.
        estado:
          type: string
          enum:
            - confirmada
            - cancelada
            - pendiente
          description: Estado de la reserva.  

    Usuario:
      type: object
      additionalProperties: false
      properties:
        id:
          type: integer
          minimum: 1
          maximum: 2147483647
          format: int32
          description: Identificador único del usuario.
        nombre:
          type: string
          pattern: '^[A-Za-záéíóúÁÉÍÓÚñÑ\- ]+$'
          maxLength: 100
          description: Nombre completo del usuario.
        correoElectronico:
          type: string
          format: email
          maxLength: 75
          pattern: '^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$'
          description: Correo electrónico del usuario.
        telefono:
          type: string
          pattern: '^[+]?[0-9]{7,15}$'
          description: Número de teléfono del usuario en formato internacional.
        preferencias:
          type: object
          additionalProperties: false
          properties:
            tipoCocina:
              type: array
              minItems: 0
              maxItems: 11
              items:
                type: string
                enum:
                  - Mexicana
                  - Italiana
                  - Japonesa
                  - China
                  - Española
                  - Francesa
                  - Alemana
                  - India
                  - Tailandesa
                  - Árabe
                  - Otros
                description: Tipo de cocina preferida del usuario.
            accesibilidad:
              type: boolean
              description: Si el usuario requiere facilidades de accesibilidad.
